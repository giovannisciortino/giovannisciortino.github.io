<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.19.1 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Python unit testing introduction - SYSADMIN CONTINUOUS IMPROVEMENT</title>
<meta name="description" content="The python standard library includes the library unitest from python’s version 2.1 . ">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="SYSADMIN CONTINUOUS IMPROVEMENT">
<meta property="og:title" content="Python unit testing introduction">
<meta property="og:url" content="/2015/04/05/python-unit-testing-introduction.html">


  <meta property="og:description" content="The python standard library includes the library unitest from python’s version 2.1 . ">







  <meta property="article:published_time" content="2015-04-05T00:00:00+00:00">






<link rel="canonical" href="/2015/04/05/python-unit-testing-introduction.html">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="SYSADMIN CONTINUOUS IMPROVEMENT Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/logo_sysadminci.png" alt=""></a>
        
        <a class="site-title" href="/">
          SYSADMIN CONTINUOUS IMPROVEMENT
          <span class="site-subtitle">Useful tips and tools for system administrators</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/about/">About me</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">TAGS</span>
        

        
        <ul>
          
            <li><a href="/tag/apache">apache</a></li>
          
            <li><a href="/tag/automation">automation</a></li>
          
            <li><a href="/tag/cluster">cluster</a></li>
          
            <li><a href="/tag/flume">flume</a></li>
          
            <li><a href="/tag/git">git</a></li>
          
            <li><a href="/tag/github">github</a></li>
          
            <li><a href="/tag/hadoop">hadoop</a></li>
          
            <li><a href="/tag/haproxy">haproxy</a></li>
          
            <li><a href="/tag/jekyll">jekyll</a></li>
          
            <li><a href="/tag/linux">linux</a></li>
          
            <li><a href="/tag/python">python</a></li>
          
            <li><a href="/tag/spark">spark</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Python unit testing introduction">
    <meta itemprop="description" content="The python standard library includes the library unitest from python’s version 2.1 .">
    <meta itemprop="datePublished" content="2015-04-05T00:00:00+00:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Python unit testing introduction
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>The python standard library includes the library <a href="https://docs.python.org/2/library/unittest.html">unitest</a> from python’s version 2.1 .</p>

<p>Unitest is a unit testing framework, it  allows to define unit tests for software written in python.
This library also called PyUnit belongs to <a href="http://en.wikipedia.org/wiki/XUnit">xUnit testing framework set</a>, a group of testing framework based on SUnit test framework designed by Kent Beck in 1998 for Smalltalk language testing.</p>

<p>This post contains the description of  some simple tests used to verify the correctness of sort function.</p>

<p>The following text box contains the code that will be the object of the test in this post. It’s composed by a method called bubbleSort containing a simple implementation of <a href="http://en.wikipedia.org/wiki/Bubble_sort">bubble sort algorithm</a></p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1"># bubblesort.py
</span><span class="k">def</span> <span class="nf">bubbleSort</span><span class="p">(</span><span class="n">aList</span><span class="p">):</span>
    <span class="n">swap</span><span class="o">=</span><span class="bp">True</span>
        <span class="k">while</span> <span class="n">swap</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>
           <span class="n">swap</span><span class="o">=</span><span class="bp">False</span>
           <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">aList</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
               <span class="k">if</span> <span class="n">aList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&gt;=</span><span class="n">aList</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]:</span>
                   <span class="n">temp</span> <span class="o">=</span> <span class="n">aList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                   <span class="n">aList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">aList</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                   <span class="n">aList</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp</span>
                   <span class="n">swap</span><span class="o">=</span><span class="bp">True</span></code></pre></figure>

<p>On the following code box an example of test case for the bubble sort function is showed.</p>

<p>Observe that BubbleSortTest inherits the class TestCase included in the module unittest.</p>

<p>Furthermore two methods testRandomList and testEmptyList has been defined to execute two tests on the bubbleSort function. The former generates a list of random integers, sorts them using bubbleSort and python native sort functions and compares their results. The latter verifies that the result of sorting a empty list is a empty list too.</p>

<p>The correctness of the output generated by bubblesort function is checked using two methods starting with the word assert. In this example only the method assertEqual is used, it verifies the equality between the two method’s argument. The full list of assert methods provided by unittest library is reported in the following <a href="https://docs.python.org/2/library/unittest.html#unittest.TestCase.assertEqual">link</a>.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1"># bubblesorttest.py&lt;/pre&gt;
</span><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">unittest</span>
<span class="kn">from</span> <span class="nn">bubblesort</span> <span class="kn">import</span> <span class="n">bubbleSort</span>
<span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">randint</span>

<span class="k">class</span> <span class="nc">BubbleSortTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">testRandomList</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">)]</span>
        <span class="n">data_clone</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">bubbleSort</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">data_clone</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span> <span class="n">data</span> <span class="p">,</span> <span class="n">data_clone</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">testEmptyList</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">data</span><span class="o">=</span><span class="p">[]</span>
        <span class="n">bubbleSort</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span> <span class="n">data</span> <span class="p">,</span> <span class="p">[])</span>

    <span class="k">def</span> <span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">()</span></code></pre></figure>

<p>The methods setUp and tearDown are optional. They allow to initialize and to release resources used during the tests,respectively. If these two function are defined, their code is executed before and after the execution of each test method.</p>

<p>Starting the test execution is a simple activity, the module bubblesorttest.py must be executed from python interpreter as showed in the following box.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>python bubblesort_test.py
..
<span class="nt">----------------------------------------------------------------------</span>
Ran 2 tests <span class="k">in </span>0.000s

OK</code></pre></figure>

<p>The official python documentation contains further details about unittest <a href="https://docs.python.org/3/library/unittest.html">library</a>.</p>

        
      </section>

      <footer class="page__meta">
        
        


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2015-04-05T00:00:00+00:00">April 5, 2015</time></p>
        
      </footer>

      

      
  <nav class="pagination">
    
      <a href="/2015/04/03/python-lambda-functions.html" class="pagination--pager" title="Python lambda functions
">Previous</a>
    
    
      <a href="/2015/05/09/haproxy_basic_configuration_on_ubuntu_14.04.html" class="pagination--pager" title="HAProxy basic configuration on Ubuntu 14.04
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2020/04/05/use_github_actions_to_create_jekyll_post_from_github_issue.html" rel="permalink">MODIFICA EFFETTUATA NEL BRANCH TEST
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">This post describe a GitHub Actions workflow that allow to create new post on a Jekyll web site contained in a GitHub repository using the issue editor of Gi...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2016/03/01/distrubuted_sql_query_using_sparksql_hdfs_sqoop.html" rel="permalink">Distributed SQL Query using SparkSQL, HDFS and Sqoop
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">Spark SQL: A brief introduction
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2016/02/16/apache_spark_distributed_computation_of_pi_in_8_lines_of_python_code.html" rel="permalink">Apache Spark – Distributed computation of π in 8 lines of Python code
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">In this post I show how to write a distributed application computing an approximation of pi number though a Spark application using Python.
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2016/01/06/import_mysql_data_in_elasticsearch_server.html" rel="permalink">Import Mysql data in Elasticsearch server
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">Elasticsearch is a near real-time search server based on Lucene. It allows to create a distributed full-text search engine. It’s an opensource software devel...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2020 SYSADMIN CONTINUOUS IMPROVEMENT. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>










  </body>
</html>
